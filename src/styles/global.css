@import "tailwindcss";
@source "../**/*.{js,jsx,md,mdx,ts,tsx}";
@plugin "@tailwindcss/container-queries";
@plugin "tailwindcss-animate";
@custom-variant dark (&:is(.dark, [data-theme="dark"]));

@theme {
	--font-special:
		var(--font-lobular), ui-sans-serif, system-ui, -apple-system,
		BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial,
		"Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
		"Segoe UI Symbol", "Noto Color Emoji";
	--font-sans:
		var(--font-fungis), ui-sans-serif, system-ui, -apple-system,
		BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial,
		"Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
		"Segoe UI Symbol", "Noto Color Emoji";
	--font-serif: serif;
	--font-mono: monospace;
	--color-fg: var(--fg);
	--color-bg: var(--bg);
	--color-bgOverlay: var(--bgOverlay);
	--color-alt: var(--alt);
	--color-grayDark: var(--grayDark);
	--color-grayMed: var(--grayMed);
	--color-grayLight: var(--grayLight);
	--color-grayUltraLight: var(--grayUltraLight);
	--height-screen: 100lvh;
	--width-screen: 100lvw;
}

@utility text-balance {
	text-wrap: balance;
}

@utility text-pretty {
	text-wrap: pretty;
}

@utility text-stroke-grayDark {
	-webkit-text-stroke-width: 5px;
	-webkit-text-stroke-color: var(--grayDark);
}

@utility text-stroke-fg {
	-webkit-text-stroke-width: 5px;
	-webkit-text-stroke-color: var(--fg);
}

@layer base {
	::-moz-selection,
	::selection {
		@apply text-alt bg-fg;
	}

	:root,
	:root[data-theme="light"] {
		--fg: #e30002;
		--bg: #fcfeff;
		--bgOverlay: rgba(241, 250, 255, 0.7);
		--alt: #ffef9b;
		--grayDark: #5d7280;
		--grayMed: #d0dfe7;
		--grayLight: #e1ecf2;
		--grayUltraLight: #f1faff;
	}

	:root[data-theme="dark"] {
		--fg: #ffef9b;
		--bg: #1c1c1c;
		--bgOverlay: rgba(13, 13, 13, 0.7);
		--alt: #e30002;
		--grayDark: #ababab;
		--grayMed: #000000;
		--grayLight: hwb(0 17% 83%);
		--grayUltraLight: #0d0d0d;
	}

	@media (prefers-contrast: more) {
		:root[data-theme="light"] {
			--fg: #b60003;
			--bg: #ffffff;
			--bgOverlay: rgba(93, 114, 128, 0.8);
			--alt: #ffef9b;
			--grayDark: #1d2022;
			--grayMed: #666c6f;
			--grayLight: #b7c3ca;
			--grayUltraLight: #ffffff;
		}
		:root[data-theme="dark"] {
			--fg: #fff6c8;
			--bg: #000000;
			--bgOverlay: rgba(0, 0, 0, 0.8);
			--alt: #000000;
			--grayDark: #fff6c8;
			--grayMed: #e30002;
			--grayLight: #e30002;
			--grayUltraLight: #000;
		}
	}

	html .form-input,
	html .form-textarea,
	html .form-select,
	html .form-multiselect,
	html .form-number,
	html .form-checkbox,
	html .form-radio {
		@apply w-full border border-grayMed bg-bg px-3 py-2 text-fg;
		@apply focusable focus-visible:border-fg focus-visible:ring-2 focus-visible:ring-fg/30;
		@apply placeholder:text-grayDark/70;
		@apply transition-colors duration-200;
	}
	@supports (-webkit-touch-callout: none) {
		html .form-input,
		html .form-textarea,
		html .form-select,
		html .form-multiselect,
		html .form-number {
			@apply text-[16px];
		}
	}
	@supports not (-webkit-touch-callout: none) {
		html .form-input,
		html .form-textarea,
		html .form-select,
		html .form-multiselect,
		html .form-number {
			@apply text-sm;
		}
	}

	html .form-textarea {
		@apply min-h-[120px] resize-y;
	}

	html .form-checkbox,
	html .form-radio {
		@apply h-4 w-4 rounded border-grayMed bg-bg text-fg;
	}

	html .form-select,
	html .form-multiselect {
		@apply pr-10;
		appearance: none;
		background-image:
			linear-gradient(45deg, transparent 50%, var(--grayDark) 50%),
			linear-gradient(135deg, var(--grayDark) 50%, transparent 50%);
		background-position:
			calc(100% - 18px) calc(1em + 2px),
			calc(100% - 13px) calc(1em + 2px);
		background-size:
			5px 5px,
			5px 5px;
		background-repeat: no-repeat;
	}

	html[data-theme="dark"] .form-input,
	html[data-theme="dark"] .form-textarea,
	html[data-theme="dark"] .form-select,
	html[data-theme="dark"] .form-multiselect,
	html[data-theme="dark"] .form-number {
		@apply bg-grayUltraLight text-fg placeholder:text-grayDark/70;
	}

	html[data-theme="dark"] .form-select,
	html[data-theme="dark"] .form-multiselect {
		background-image:
			linear-gradient(45deg, transparent 50%, var(--grayDark) 50%),
			linear-gradient(135deg, var(--grayDark) 50%, transparent 50%);
	}

	html .form-input::-webkit-outer-spin-button,
	html .form-input::-webkit-inner-spin-button,
	html .form-number::-webkit-outer-spin-button,
	html .form-number::-webkit-inner-spin-button,
	html .form-textarea::-webkit-outer-spin-button,
	html .form-textarea::-webkit-inner-spin-button,
	html .form-select::-webkit-outer-spin-button,
	html .form-select::-webkit-inner-spin-button,
	html .form-multiselect::-webkit-outer-spin-button,
	html .form-multiselect::-webkit-inner-spin-button {
		-webkit-appearance: none;
		margin: 0;
	}

	html .form-input[type="number"],
	html .form-number {
		-moz-appearance: textfield;
	}

	html,
	body {
		scroll-behavior: smooth;
		@apply text-fg bg-bg;
	}

	::-moz-selection,
	::selection {
		background: var(--bg, #ffef9b);
		color: var(--fg, #e30002);
	}
}

@utility focusable {
	@apply focus:outline-none focus-visible:ring-2 focus-visible:ring-fg;
	@apply focus-visible:ring-offset-2 focus-visible:ring-offset-bg;
}

html div.CodeMirror,
html .EasyMDEContainer .CodeMirror {
	@apply text-inherit bg-bg border-none;
}
html[data-theme="dark"] div.CodeMirror,
html[data-theme="dark"] .EasyMDEContainer .CodeMirror {
	@apply bg-grayUltraLight;
}
html div.CodeMirror .cm-link,
html div.CodeMirror .cm-url {
	color: var(--fg);
	background: var(--alt);
}
